<!DOCTYPE HTML>
<html>
  <head>
    <style>
      body {
        margin: 0px;
        padding: 0px;
      }
    </style>
  </head>
  <body>
    <canvas id="myCanvas" width="300" height="300"></canvas>
    <script>
	window.requestAnimFrame = (function(callback) { 
	return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame ||
	function(callback) {
	  window.setTimeout(callback, 1000);
			};
			})();
	function animate(change,inc) {
        
        // update
	
	for(i = 0 ; i <= 12 ; i++)
	{
		cos = Math.cos(((36*(i+1)+18)/180)*Math.PI);
		pixxchan3[i]= Math.floor(change*cos) + 150;
		sin = Math.sin(((36*(i+1)+18)/180)*Math.PI);
		pixychan3[i]= 150 - Math.floor(change*sin);
	}
	if(change<=100)
	{
		change+=inc*5;
	}
	if(change>=98)
	{
		inc=-1;
	}
	
	// clear
        context.clearRect(0, 0, canvas.width, canvas.height);

        // draw stuff
	for(i=0;i<=10;i++)
	{
		context.moveTo(pixxmain3[i],pixymain3[i]);
		context.lineTo(pixxchan3[i],pixychan3[i]);
		context.stroke();
		context.moveTo(pixxmain3[i+1],pixymain3[i+1]);
		context.lineTo(pixxchan3[i],pixychan3[i]);
		context.stroke();
	}

        // request new frame
	if(change>6)
	{
        	requestAnimFrame(function() { animate(change,inc);});
	}     
	}
	var canvas = document.getElementById('myCanvas');
	var context = canvas.getContext('2d');
	var pixxmain3 = new Array();
	var pixymain3 = new Array();
	var pixxchan3 = new Array();
	var pixychan3 = new Array();
	for(i = 0 ; i < 11 ; i++)
	{
		cos = Math.cos(((36*(i+1))/180)*Math.PI);
		pixxmain3[i]= Math.floor(40*cos) + 150;
		sin = Math.sin(((36*(i+1))/180)*Math.PI);
		pixymain3[i]= 150 - Math.floor(40*sin);
	}
      	animate(40,1);
    </script>
  </body>
</html>



